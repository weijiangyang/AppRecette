{% extends 'base.html.twig' %}

{% block title %}AppRecette - Accueil{% endblock %}

{% block body %}
    <div class="container">
        
        <div class="jumbotron mt-4">
            <h1 class="display-4">Bienvenu sur AppRecette ! </h1>
            {% for message in app.flashes('success') %}
            <div class="alert alert-success">
                 {{ message }}
            </div>
           
        {% endfor %}
            <p class="lead">AppRecette est une application qui vous permet de créer des recettes à base d'ingrédients que vous aurez vous-même créer.Vous pourrez partager votres recettes à la communité du site , ou bien les garder en privée. </p>
            <div class="d-flex justify-content-center flex-wrap mt-5" >
                {% for recipe in recipes %}
                    <div class="card border-primary mb-3 mx-3" style="width:30%; height:340px">
                        <div class="card-header text-center py-3">
                            <strong><a class='text-decoration-none 'href="{{ path('recipe_show',{'id':recipe.id})}}">{{ recipe.name | capitalize }}</a></strong>
                        </div>
                        <div class="card-body p-0">
                            {% if recipe.imageName %}
                                <img style = "width:100%;height:100%;max-height:221px;object-fit: cover" src="{{ vich_uploader_asset(recipe, 'imageFile') }}">
                            {% else %}
                                <img style = "width:100%;max-height:221px;object-fit: cover" src="{{ asset('images/no-recette.jpg') }}">
                            {% endif %}
                        </div>
                        <div class=" d-flex justify-content-around align-items-center">
                            <a class=' text-decoration-none badge' style="font-size:1rem ; background-color:#66A593" href="{{ path('recipe_show',{'id':recipe.id})}}"<span >Details</span></a>
                            {% include "partials/_stars.html.twig" %}
                        </div>
                        
                    
                </div>
                  
                


                   
             
      {% endfor %}
   
            </div>
            <hr class="my-4">
            <p>Pour commencer, rendez-vous sur la page d'inscription pour utiliser l'application. </p>
            <p class="lead">
                <a class="btn btn-primary btn-lg" href="{{ path('security_registration') }}" role="button">Inscription</a>
            </p>
        </div>
    </div>

{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script>
        const link = document.querySelector('#accueil');
        link.classList.add('active'); 
    </script>

{% endblock %}
