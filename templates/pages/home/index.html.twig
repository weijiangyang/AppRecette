{% extends 'base.html.twig' %}

{% block title %}AppRecette - Accueil{% endblock %}


{% block body %}
    <div class="container">
        
        <div class="jumbotron mt-4">
            <h1 class="display-4 " style="font-family:courgette; color:chocolate">Bienvenu sur AppRecette üìù </h1>
            {% for message in app.flashes('success') %}
            <div class="alert alert-success">
                 {{ message }}
            </div>
           
        {% endfor %}
            <p class="lead">AppRecette est une application qui vous permet de cr√©er des recettes √† base d'ingr√©dients que vous aurez vous-m√™me cr√©er. Vous pourrez partager votres recettes √† la communit√© du site , ou bien les garder en priv√©e. 
                Pour mieux commprendre comment utiliser cette application, <a href="">Cliquez ici </a>
            </p>
            
            <img style = "width:100%;max-height:300px;object-fit: cover" src="{{ asset('images/bannier.jpg') }}" alt="image bannier de application recettes">
            <h2 style="position:relative; top:-220px;left:10px;color:white">La gastronomie est l'art d'utiliser la nourriture <br>pour cr√©er un bonheur.</h2>
            
            <h3 class="text-center text-warning " style="font-family:courgette">Recettes recentes</h3>
            <div class="d-flex justify-content-center mx-0 flex-wrap mt-5" >
                {% for recipe in recipesRecentes %}
                    <div class="card border-primary mb-3 mx-3" style="width:30%; height:340px">
                        <div class="card-header text-center py-3">
                            <strong> <a class='text-decoration-none' href="{{ path('recipe_show',{'id':recipe.id})}}" > {{ recipe.name | capitalize }} </a> </strong>
                        </div>
                        <div class="card-body p-0">
                            {% if recipe.imageName %}
                                <img style = "width:100%;height:100%;max-height:221px;object-fit: cover" src="{{ vich_uploader_asset(recipe, 'imageFile') }}" alt= '{{ 'image de recette ' ~ recipe.name }}'>
                            {% else %}
                                <img style = "width:100%;max-height:221px;object-fit: cover" src="{{ asset('images/no-recette.jpg') }}" alt = '{{ 'image de recette ' ~ recipe.name }}' >
                            {% endif %}
                        </div>
                        <div class=" d-flex justify-content-around align-items-center"> 
                            <a class=' text-decoration-none badge' style="font-size:1rem ; background-color:#66A593" href="{{ path('recipe_show',{'id':recipe.id})}}"<span >Details</span></a>
                            {% include "partials/_stars.html.twig" %}
                        </div>
                    </div>    
                {% endfor %}   
            </div>
            <h3 class="text-center text-warning pt-5" style="font-family:courgette">Recettes bien not√©es </h3>
            <div class="d-flex justify-content-center mx-0 flex-wrap mt-5" >
                {% for recipe in recipesNotes %}
                    <div class="card border-primary mb-3 mx-3" style="width:30%; height:340px">
                        <div class="card-header text-center py-3">
                            <strong><a class='text-decoration-none' href="{{ path('recipe_show',{'id':recipe.id})}}">{{ recipe.name | capitalize }}</a></strong>
                        </div>
                        <div class="card-body p-0">
                            {% if recipe.imageName %}
                                <img style = "width:100%; height:100%; max-height:221px; object-fit:cover" src="{{ vich_uploader_asset(recipe, 'imageFile') }}" alt="image de recette">
                            {% else %}
                                <img style = "width:100%; max-height:221px; object-fit:cover" src="{{ asset('images/no-recette.jpg') }}" alt="image de recette">
                            {% endif %}
                        </div>
                        <div class=" d-flex justify-content-around align-items-center">
                            <a class=' text-decoration-none badge' style="font-size:1rem ; background-color:#66A593" href="{{ path('recipe_show',{'id':recipe.id}) }}" > <span>Details</span> </a>
                            {% include "partials/_stars.html.twig" %}
                        </div>
                    </div>    
                {% endfor %}   
            </div>        
                  
            <hr class="my-4">
            <p>Pour commencer, rendez-vous sur la page d'inscription pour utiliser l'application. </p>
            <p class="lead">
                <a type = 'button' class="btn btn-primary btn-lg" href="{{ path('security_registration') }}" >Inscription</a>
            </p>
        </div>
    </div>

{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script>
        const link = document.querySelector('#accueil');
        link.classList.add('active'); 
    </script>

{% endblock %}
